"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useStreamState = useStreamState;
var react_1 = require("react");
var subscriptions = [];
function set(newValue) {
    setTimeout(function () {
        subscriptions.forEach(function (c) { c(newValue); });
    });
}
function useStreamState() {
    var _a = (0, react_1.useState)(), stream = _a[0], setStream = _a[1];
    (0, react_1.useEffect)(function () {
        var index = subscriptions.push(setStream);
        return function () {
            subscriptions.splice(index, 1);
        };
    }, []);
    return [stream, set];
}
